<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Nested Kernel Operating System Architecture : Enabling Privilege Separation in Commodity Operating Systems">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Nested Kernel Operating System Architecture</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/nestedkernel">View on GitHub</a>

          <h1 id="project_title">Nested Kernel Operating System Architecture</h1>
          <h2 id="project_tagline">Enabling Privilege Separation in Commodity Operating Systems</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a id="welcome-to-the-nested-kernel" class="anchor" href="#welcome-to-the-nested-kernel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Welcome to the Nested Kernel.</h3>

<p>Monolithic operating system designs undermine the security of computing systems
by allowing single exploits anywhere in the kernel to enjoy full supervisor
privileges. The nested kernel operating system architecture addresses this
problem by “nesting” a small, isolated kernel within a traditional monolithic
kernel. The “nested kernel” interposes on all updates to virtual memory
translations to assert protections on physical memory, thus significantly
reducing the trusted computing base for memory access control enforcement.</p>

<p>We incorporated the nested kernel architecture into FreeBSD on x86-64 hardware
by write-protecting MMU translations and de- privileging the untrusted part of
the kernel, thereby enabling the entire operating system, trusted and untrusted
components alike, to operate at the highest hardware privilege level. Our
implementation inherently enforces kernel code integrity while still allowing
dynamically loaded kernel modules, thus defending against code injection
attacks.</p>

<p>We also demonstrate, by introducing write-mediation and write-logging services,
that the nested kernel architecture allows kernel developers to isolate memory
in ways not possible in monolithic kernels. Performance of the nested kernel
prototype shows modest overheads: &lt; 1% average for Apache, &lt;3.7% average for
SSHD, and 2.7% average for kernel compile. Overall, our results and experience
show that the nested kernel design can be retrofitted to existing monolithic
kernels, providing important security benefits.</p>

<h3>
<a id="links" class="anchor" href="#links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Links</h3>

<p>Our full ASPLOS '15 paper can be found on
<a href="http://nathandautenhahn.com/downloads/publications/asplos200-dautenhahn.pdf">here</a>.</p>

<p>A link to the presentation given at ASPLOS '15:
<a href="http://prezi.com/in6qr3l92ffc/?utm_campaign=share&amp;utm_medium=copy">http://prezi.com/in6qr3l92ffc/?utm_campaign=share&amp;utm_medium=copy</a></p>

<h3>
<a id="build-instructions" class="anchor" href="#build-instructions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build Instructions</h3>

<p>!!!!!! These Are Under Construction and Require Testing !!!!!!</p>

<p>Our current nested kernel implementation for x86-64 FreeBSD is called
PerspicuOS.</p>

<ol>
<li>Install FreeBSD 9.0:
<a href="http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/old-releases/amd64/ISO-IMAGES/9.0/">http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/old-releases/amd64/ISO-IMAGES/9.0/</a>
</li>
<li>In FreeBSD 9.0 System, clone the repo
$ clone <a href="mailto:git@github.com">git@github.com</a>:nestedkernel/nestedkernel.git nestedkernel</li>
<li>Build the nested kernel
$ cd nestedkernel
$ make</li>
<li>Configure FreeBSD /etc/src.conf
# This setting to build world without -Werror:
NO_WERROR=
# This setting to build kernel without -Werror:
WERROR=
# Set the library path to the nested kernel lib
CFLAGS+=-I/PATH/TO/NESTEDKERNEL/include</li>
<li>Make PerspicuOS: Use FreeBSD building instructions
selecting the NK kernel configuration</li>
<li>Install and Boot (you can use either the base harddrive or
    a VM tool Like Qemu, VirtualBox, or VMWare)</li>
</ol>

<h3>
  <a id="comment-on-code" class="anchor" href="#comment-on-code" aria-hidden="true">
  <span class="octicon octicon-link"></span></a>Comment on PerspicuOS Repo</h3>
  <p>
    PerspicuOS was derived from a few other research projects and as such reflects 
    an odd arangement of naming conventions and unused functionality. The 
    nested kernel shared a similar interface as previous work using the SVA compiler 
    based virtual machine (<a href="https://github.com/jtcriswell/SVA">SVA Github</a>), 
    but only includes a small subset of the entire interface, namely the MMU,
    and modifies the functionality of the internal policies for page-translation updates.
  </p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-61522619-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
